<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="src/style.css">
    <!-- d3.js for parsing, structuring and displaying the data -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <!-- Marked for parsing the markdown -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- all scripts -->
    <script src="src/scrolling.js"></script>
    <script src="src/navigation.js"></script>
    <script src="src/links.js"></script>
    <script src="src/data.js"></script>

    <!-- adjust below fields for open graph previews -->
    <title>Organigrams for/from the future</title>
    <meta property="og:url" content="https://infovis.fh-potsdam.de/organigrams/">
    <meta property="og:title" content="Organigrams for/from the future">
    <meta property="og:description" content="Experimental design course on the visualization of organizational structures utilizing narration and exploration to encourage reflection and imagination about work and the economy. The course was held as a nomadic seminar at multiple locations in Berlin and Potsdam during the summer of 2023.">
    <meta property="og:image" content="https://infovis.fh-potsdam.de/organigrams/assets/images/cover.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    
    
</head>

<body>
    <div id="app">
        <div class="overlay"></div>
        <div class="hamburger-icon" id="icon" onclick="toggleMenu()">
            <div class="icon-1" id="a"></div>
            <div class="icon-2" id="b"></div>
            <div class="icon-3" id="c"></div>
            <div class="clear"></div>
          </div>
        <div id="menu">
              <div id="anchors"></div>
        </div>
        <canvas id="links">
        </canvas>
        <div id="wrapper">
            <div id="cursors"></div>
            <div id="content"></div>
        </div>
    </div>
    <footer></footer>
    <script>
        //fontsize based on window size
        let fs = 14;
        function setFontSize(){
          vw = document.documentElement.clientWidth/100;
          vh = document.documentElement.clientHeight/100;
          fs = 7+.7*vw+.3*vh;	
	        document.querySelector("body").style.fontSize = fs+"px";
          update();
        }
        window.onresize = setFontSize;
        // when pressing escape scroll up and remove hash
        document.onkeyup = function(e) {
          if (e.key === "Escape") {
            if (document.querySelector("#app.overlay")) resetEnlargedImage();            
            else {
  		        window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });
  		        history.pushState("", document.title, window.location.pathname);
                if (menuState) toggleMenu();              
            }
	        }
        }
        setFontSize();
        fetch('assets/data.md')
        .then(data => data.text())
        .then(text => {
            let data = []
            let sessions = text.split("---\n")
            let footer  = sessions.slice(-1)[0]
            document.querySelector("footer").innerHTML = marked.parse(footer)
            sessions.slice(0,-1).map(session => {
                let sessionObject = {}
                let sessionData = session.trim().split(/\n{3,}/)
                sessionObject.text = sessionData[0]
                sessionData = sessionData.slice(1)
                sessionObject.content = sessionData.map(content => { return {"markdown" : content}})
                data.push(sessionObject)
            })
            createBaseData(data)
        })
            </script>
</body>

</html>